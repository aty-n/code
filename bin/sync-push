#!/usr/bin/env bash
set -euo pipefail
msg="${1:-update}"
git add -A
if ! git diff --cached --quiet; then
  git commit -m "$msg"
else
  echo "no staged changes; skipping commit."
fi
branch="$(git rev-parse --abbrev-ref HEAD)"
git push origin "${branch}"
